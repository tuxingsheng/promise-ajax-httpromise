{"version":3,"file":null,"sources":["../../src/ajax/module/ajax.js","../../src/ajax/index.js"],"sourcesContent":["export function $http() {\r\n\r\n}\r\n\r\n$http.prototype.constructor = $http;\r\n\r\n$http.prototype.post = function (url, options) {\r\n    http.ajaxSettings.type = 'POST';\r\n    return this.ajax(url, options)\r\n};\r\n\r\n$http.prototype.get = function (url, options) {\r\n    http.ajaxSettings.type = 'GET';\r\n    return this.ajax(url, options)\r\n};\r\n\r\n$http.prototype.put = function (url, options) {\r\n    http.ajaxSettings.type = 'PUT';\r\n    return this.ajax(url, options)\r\n};\r\n\r\n$http.prototype.delete = function (url, options) {\r\n    http.ajaxSettings.type = 'DELETE';\r\n    return this.ajax(url, options)\r\n};\r\n\r\n$http.prototype.ajax = function (url, options) {\r\n    if (typeof url === 'object') {\r\n        options = url;\r\n        url = undefined;\r\n    }\r\n    http.ajax(url, options);\r\n};\r\n\r\nvar http = {};\r\n\r\nhttp.jsonType = 'application/json';\r\n\r\nhttp.htmlType = 'text/html';\r\n\r\nhttp.rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi;\r\n\r\nhttp.scriptTypeRE = /^(?:text|application)\\/javascript/i;\r\n\r\nhttp.xmlTypeRE = /^(?:text|application)\\/xml/i;\r\n\r\nhttp.blankRE = /^\\s*$/;\r\n\r\nhttp.ajaxSettings = {\r\n    type: 'GET',\r\n    beforeSend: noop,\r\n    success: noop,\r\n    error: noop,\r\n    complete: noop,\r\n    context: null,\r\n    xhr: function (protocol) {\r\n        return new window.XMLHttpRequest();\r\n    },\r\n    accepts: {\r\n        script: 'text/javascript, application/javascript, application/x-javascript',\r\n        json: http.jsonType,\r\n        xml: 'application/xml, text/xml',\r\n        html: http.htmlType,\r\n        text: 'text/plain'\r\n    },\r\n    timeout: 0,\r\n    processData: true,\r\n    cache: true\r\n};\r\n\r\nhttp.ajaxBeforeSend = function (xhr, settings) {\r\n    var context = settings.context;\r\n    if (settings.beforeSend.call(context, xhr, settings) === false) {\r\n        return false;\r\n    }\r\n};\r\n\r\nhttp.ajaxSuccess = function (data, xhr, settings) {\r\n    settings.success.call(settings.context, data, 'success', xhr);\r\n    http.ajaxComplete('success', xhr, settings);\r\n};\r\n\r\nhttp.ajaxError = function (error, type, xhr, settings) {\r\n    settings.error.call(settings.context, xhr, type, error);\r\n    http.ajaxComplete(type, xhr, settings);\r\n};\r\n\r\nhttp.ajaxComplete = function (status, xhr, settings) {\r\n    settings.complete.call(settings.context, xhr, status);\r\n};\r\n\r\nhttp.serialize = function (params, obj, traditional, scope) {\r\n    var type, array = isArray(obj),\r\n        hash = isPlainObject(obj);\r\n    each(obj, function (key, value) {\r\n        type = $type(value);\r\n        if (scope) {\r\n            key = traditional ? scope :\r\n            scope + '[' + (hash || type === 'object' || type === 'array' ? key : '') + ']';\r\n        }\r\n        // handle data in serializeArray() format\r\n        if (!scope && array) {\r\n            params.add(value.name, value.value);\r\n        }\r\n        // recurse into nested objects\r\n        else if (type === 'array' || (!traditional && type === 'object')) {\r\n            http.serialize(params, value, traditional, key);\r\n        } else {\r\n            params.add(key, value);\r\n        }\r\n    });\r\n};\r\n\r\nhttp.serializeData = function (options) {\r\n    if (options.processData && options.data && typeof options.data !== 'string') {\r\n        options.data = $param(options.data, options.traditional);\r\n    }\r\n    if (options.data && (!options.type || options.type.toUpperCase() === 'GET')) {\r\n        options.url = http.appendQuery(options.url, options.data);\r\n        options.data = undefined;\r\n    }\r\n};\r\n\r\nhttp.appendQuery = function (url, query) {\r\n    if (query === '') {\r\n        return url;\r\n    }\r\n    return (url + '&' + query).replace(/[&?]{1,2}/, '?');\r\n};\r\n\r\nhttp.mimeToDataType = function (mime) {\r\n    if (mime) {\r\n        mime = mime.split(';', 2)[0];\r\n    }\r\n    return mime && (mime === http.htmlType ? 'html' :\r\n            mime === http.jsonType ? 'json' :\r\n                scriptTypeRE.test(mime) ? 'script' :\r\n                xmlTypeRE.test(mime) && 'xml') || 'text';\r\n};\r\n\r\nhttp.parseArguments = function (url, data, success, dataType) {\r\n    if (isFunction(data)) {\r\n        dataType = success, success = data, data = undefined;\r\n    }\r\n    if (!isFunction(success)) {\r\n        dataType = success, success = undefined;\r\n    }\r\n    return {\r\n        url: url,\r\n        data: data,\r\n        success: success,\r\n        dataType: dataType\r\n    };\r\n};\r\n\r\nhttp.ajax = function (url, options) {\r\n    var settings = options || {};\r\n    settings.url = url || settings.url;\r\n    for (var key in http.ajaxSettings) {\r\n        if (settings[key] === undefined) {\r\n            settings[key] = http.ajaxSettings[key];\r\n        }\r\n    }\r\n    http.serializeData(settings);\r\n    var dataType = settings.dataType;\r\n\r\n    if (settings.cache === false || ((!options || options.cache !== true) && ('script' === dataType))) {\r\n        settings.url = http.appendQuery(settings.url, '_=' + $.now());\r\n    }\r\n    var mime = settings.accepts[dataType && dataType.toLowerCase()];\r\n    var headers = {};\r\n    var setHeader = function (name, value) {\r\n        headers[name.toLowerCase()] = [name, value];\r\n    };\r\n    var protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : window.location.protocol;\r\n    var xhr = settings.xhr(settings);\r\n    var nativeSetHeader = xhr.setRequestHeader;\r\n    var abortTimeout;\r\n\r\n    setHeader('X-Requested-With', 'XMLHttpRequest');\r\n    setHeader('Accept', mime || '*/*');\r\n    if (!!(mime = settings.mimeType || mime)) {\r\n        if (mime.indexOf(',') > -1) {\r\n            mime = mime.split(',', 2)[0];\r\n        }\r\n        xhr.overrideMimeType && xhr.overrideMimeType(mime);\r\n    }\r\n    if (settings.contentType || (settings.contentType !== false && settings.data && settings.type.toUpperCase() !== 'GET')) {\r\n        setHeader('Content-Type', settings.contentType || 'application/x-www-form-urlencoded');\r\n    }\r\n    if (settings.headers) {\r\n        for (var name in settings.headers)\r\n            setHeader(name, settings.headers[name]);\r\n    }\r\n    xhr.setRequestHeader = setHeader;\r\n\r\n    xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n            xhr.onreadystatechange = noop;\r\n            clearTimeout(abortTimeout);\r\n            var result, error = false;\r\n            var isLocal = protocol === 'file:';\r\n            if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (xhr.status === 0 && isLocal && xhr.responseText)) {\r\n                dataType = dataType || http.mimeToDataType(settings.mimeType || xhr.getResponseHeader('content-type'));\r\n                result = xhr.responseText;\r\n                try {\r\n                    // http://perfectionkills.com/global-eval-what-are-the-options/\r\n                    if (dataType === 'script') {\r\n                        (1, eval)(result);\r\n                    } else if (dataType === 'xml') {\r\n                        result = xhr.responseXML;\r\n                    } else if (dataType === 'json') {\r\n                        result = http.blankRE.test(result) ? null : parseJSON(result);\r\n                    }\r\n                } catch (e) {\r\n                    error = e;\r\n                }\r\n\r\n                if (error) {\r\n                    http.ajaxError(error, 'parsererror', xhr, settings);\r\n                } else {\r\n                    http.ajaxSuccess(result, xhr, settings);\r\n                }\r\n            } else {\r\n                var status = xhr.status ? 'error' : 'abort';\r\n                var statusText = xhr.statusText || null;\r\n                if (isLocal) {\r\n                    status = 'error';\r\n                    statusText = '404';\r\n                }\r\n                http.ajaxError(statusText, status, xhr, settings);\r\n            }\r\n        }\r\n    };\r\n    if (http.ajaxBeforeSend(xhr, settings) === false) {\r\n        xhr.abort();\r\n        http.ajaxError(null, 'abort', xhr, settings);\r\n        return xhr;\r\n    }\r\n\r\n    if (settings.xhrFields) {\r\n        for (var name in settings.xhrFields) {\r\n            xhr[name] = settings.xhrFields[name];\r\n        }\r\n    }\r\n\r\n    var async = 'async' in settings ? settings.async : true;\r\n\r\n    xhr.open(settings.type.toUpperCase(), settings.url, async, settings.username, settings.password);\r\n\r\n    for (var name in headers) {\r\n        nativeSetHeader.apply(xhr, headers[name]);\r\n    }\r\n    if (settings.timeout > 0) {\r\n        abortTimeout = setTimeout(function () {\r\n            xhr.onreadystatechange = noop;\r\n            xhr.abort();\r\n            http.ajaxError(null, 'timeout', xhr, settings);\r\n        }, settings.timeout);\r\n    }\r\n    xhr.send(settings.data ? settings.data : null);\r\n    return xhr;\r\n};\r\n\r\nvar isArray = Array.isArray;\r\nvar parseJSON = JSON.parse;\r\nvar class2type = {};\r\n\r\neach(['Boolean', 'Number', 'String', 'Function', 'Array', 'Date', 'RegExp', 'Object', 'Error'], function (i, name) {\r\n    class2type['[object ' + name + ']'] = name.toLowerCase();\r\n});\r\n\r\nfunction $type(obj) {\r\n    return obj == null ? String(obj) : class2type[{}.toString.call(obj)] || 'object';\r\n}\r\n\r\nfunction $param(obj, traditional) {\r\n    var params = [];\r\n    params.add = function (k, v) {\r\n        this.push(encodeURIComponent(k) + '=' + encodeURIComponent(v));\r\n    };\r\n    http.serialize(params, obj, traditional);\r\n    return params.join('&').replace(/%20/g, '+');\r\n}\r\n\r\nfunction isObject(obj) {\r\n    return obj !== null && typeof obj === 'object';\r\n}\r\n\r\nfunction isPlainObject(obj) {\r\n    return isObject(obj) && Object.getPrototypeOf(obj) == Object.prototype;\r\n}\r\n\r\nfunction each(elements, callback, hasOwnProperty) {\r\n    if (!elements) {\r\n        return this;\r\n    }\r\n    if (typeof elements.length === 'number') {\r\n        [].every.call(elements, function (el, idx) {\r\n            return callback.call(el, idx, el) !== false;\r\n        })\r\n    } else {\r\n        for (var key in elements) {\r\n            if (hasOwnProperty) {\r\n                if (ele.hasOwnProperty(key)) {\r\n                    if (callback.call(elements[key], key, elements[key]) === false) {\r\n                        return elements;\r\n                    }\r\n                }\r\n            } else {\r\n                if (callback.call(elements[key], key, elements[key]) === false) return elements;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction noop() {\r\n\r\n}\r\n\r\n\r\n\r\n","import {$http} from './module/ajax';\r\n\r\nexport default new $http();\r\n\r\n\r\n"],"names":["$http","prototype","constructor","post","url","options","ajaxSettings","type","ajax","get","put","delete","undefined","http","jsonType","htmlType","rscript","scriptTypeRE","xmlTypeRE","blankRE","noop","protocol","window","XMLHttpRequest","ajaxBeforeSend","xhr","settings","context","beforeSend","call","ajaxSuccess","data","success","ajaxComplete","ajaxError","error","status","complete","serialize","params","obj","traditional","scope","array","isArray","hash","isPlainObject","key","value","$type","add","name","serializeData","processData","$param","toUpperCase","appendQuery","query","replace","mimeToDataType","mime","split","test","parseArguments","dataType","isFunction","cache","$","now","accepts","toLowerCase","headers","setHeader","RegExp","$1","location","nativeSetHeader","setRequestHeader","abortTimeout","mimeType","indexOf","overrideMimeType","contentType","onreadystatechange","readyState","result","isLocal","responseText","getResponseHeader","eval","responseXML","parseJSON","e","statusText","abort","xhrFields","async","open","username","password","apply","timeout","setTimeout","send","Array","JSON","parse","class2type","each","i","String","toString","k","v","push","encodeURIComponent","join","isObject","Object","getPrototypeOf","elements","callback","hasOwnProperty","length","every","el","idx","ele"],"mappings":"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"}