!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.$http=t()}(this,function(){"use strict";function e(){}function t(e){return null==e?String(e):l[{}.toString.call(e)]||"object"}function r(e,t){var r=[];return r.add=function(e,t){this.push(encodeURIComponent(e)+"="+encodeURIComponent(t))},p.serialize(r,e,t),r.join("&").replace(/%20/g,"+")}function a(e){return null!==e&&"object"===("undefined"==typeof e?"undefined":s(e))}function n(e){return a(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e,t,r){if(!e)return this;if("number"==typeof e.length)[].every.call(e,function(e,r){return t.call(e,r,e)!==!1});else for(var a in e)if(r){if(ele.hasOwnProperty(a)&&t.call(e[a],a,e[a])===!1)return e}else if(t.call(e[a],a,e[a])===!1)return e}function i(){}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.prototype.constructor=e,e.prototype.post=function(e,t){return p.ajaxSettings.type="POST",this.ajax(e,t)},e.prototype.get=function(e,t){return p.ajaxSettings.type="GET",this.ajax(e,t)},e.prototype.put=function(e,t){return p.ajaxSettings.type="PUT",this.ajax(e,t)},e.prototype.delete=function(e,t){return p.ajaxSettings.type="DELETE",this.ajax(e,t)},e.prototype.ajax=function(e,t){"object"===("undefined"==typeof e?"undefined":s(e))&&(t=e,e=void 0),p.ajax(e,t)};var p={};p.jsonType="application/json",p.htmlType="text/html",p.rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,p.scriptTypeRE=/^(?:text|application)\/javascript/i,p.xmlTypeRE=/^(?:text|application)\/xml/i,p.blankRE=/^\s*$/,p.ajaxSettings={type:"GET",beforeSend:i,success:i,error:i,complete:i,context:null,xhr:function(e){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:p.jsonType,xml:"application/xml, text/xml",html:p.htmlType,text:"text/plain"},timeout:0,processData:!0,cache:!0},p.ajaxBeforeSend=function(e,t){var r=t.context;if(t.beforeSend.call(r,e,t)===!1)return!1},p.ajaxSuccess=function(e,t,r){r.success.call(r.context,e,"success",t),p.ajaxComplete("success",t,r)},p.ajaxError=function(e,t,r,a){a.error.call(a.context,r,t,e),p.ajaxComplete(t,r,a)},p.ajaxComplete=function(e,t,r){r.complete.call(r.context,t,e)},p.serialize=function(e,r,a,i){var s,u=c(r),l=n(r);o(r,function(r,n){s=t(n),i&&(r=a?i:i+"["+(l||"object"===s||"array"===s?r:"")+"]"),!i&&u?e.add(n.name,n.value):"array"===s||!a&&"object"===s?p.serialize(e,n,a,r):e.add(r,n)})},p.serializeData=function(e){e.processData&&e.data&&"string"!=typeof e.data&&(e.data=r(e.data,e.traditional)),!e.data||e.type&&"GET"!==e.type.toUpperCase()||(e.url=p.appendQuery(e.url,e.data),e.data=void 0)},p.appendQuery=function(e,t){return""===t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")},p.mimeToDataType=function(e){return e&&(e=e.split(";",2)[0]),e&&(e===p.htmlType?"html":e===p.jsonType?"json":scriptTypeRE.test(e)?"script":xmlTypeRE.test(e)&&"xml")||"text"},p.parseArguments=function(e,t,r,a){return isFunction(t)&&(a=r,r=t,t=void 0),isFunction(r)||(a=r,r=void 0),{url:e,data:t,success:r,dataType:a}},p.ajax=function(e,t){var r=t||{};r.url=e||r.url;for(var a in p.ajaxSettings)void 0===r[a]&&(r[a]=p.ajaxSettings[a]);p.serializeData(r);var n=r.dataType;r.cache!==!1&&(t&&t.cache===!0||"script"!==n)||(r.url=p.appendQuery(r.url,"_="+$.now()));var o,s=r.accepts[n&&n.toLowerCase()],c={},l=function(e,t){c[e.toLowerCase()]=[e,t]},f=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:window.location.protocol,y=r.xhr(r),d=y.setRequestHeader;if(l("X-Requested-With","XMLHttpRequest"),l("Accept",s||"*/*"),(s=r.mimeType||s)&&(s.indexOf(",")>-1&&(s=s.split(",",2)[0]),y.overrideMimeType&&y.overrideMimeType(s)),(r.contentType||r.contentType!==!1&&r.data&&"GET"!==r.type.toUpperCase())&&l("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(var x in r.headers)l(x,r.headers[x]);if(y.setRequestHeader=l,y.onreadystatechange=function(){if(4===y.readyState){y.onreadystatechange=i,clearTimeout(o);var e,t=!1,a="file:"===f;if(y.status>=200&&y.status<300||304===y.status||0===y.status&&a&&y.responseText){n=n||p.mimeToDataType(r.mimeType||y.getResponseHeader("content-type")),e=y.responseText;try{"script"===n?(0,eval)(e):"xml"===n?e=y.responseXML:"json"===n&&(e=p.blankRE.test(e)?null:u(e))}catch(e){t=e}t?p.ajaxError(t,"parsererror",y,r):p.ajaxSuccess(e,y,r)}else{var s=y.status?"error":"abort",c=y.statusText||null;a&&(s="error",c="404"),p.ajaxError(c,s,y,r)}}},p.ajaxBeforeSend(y,r)===!1)return y.abort(),p.ajaxError(null,"abort",y,r),y;if(r.xhrFields)for(var x in r.xhrFields)y[x]=r.xhrFields[x];var m=!("async"in r)||r.async;y.open(r.type.toUpperCase(),r.url,m,r.username,r.password);for(var x in c)d.apply(y,c[x]);return r.timeout>0&&(o=setTimeout(function(){y.onreadystatechange=i,y.abort(),p.ajaxError(null,"timeout",y,r)},r.timeout)),y.send(r.data?r.data:null),y};var c=Array.isArray,u=JSON.parse,l={};o(["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],function(e,t){l["[object "+t+"]"]=t.toLowerCase()});var f=new e;return f});
